<script>
  function setStatus(text) {
    document.getElementById('status').textContent = text;
    console.log(text);
  }

  function renderAd() {
    try {
      Ya.Context.AdvManager.render({
        blockId: "R-A-14383531-9",
        type: "fullscreen",
        platform: "desktop",

        onRender: function (data) {
          // data.product: direct или rtb
          setStatus("OK: реклама отрисована (" + (data && data.product ? data.product : "unknown") + ")");
        },

        onError: function (data) {
          // data.type: error/warning, data.code, data.text
          setStatus(
            "ОШИБКА: " +
            (data && data.type ? data.type : "") + " " +
            (data && data.code ? data.code : "") + " " +
            (data && data.text ? data.text : "")
          );
          console.log("Yandex onError data:", data);
        }
      });

      setStatus("Команда render отправлена (жду ответ)...");
    } catch (e) {
      setStatus("ИСКЛЮЧЕНИЕ: " + e.message);
      console.error(e);
    }
  }

  document.getElementById('btn').addEventListener('click', renderAd);
</script>
